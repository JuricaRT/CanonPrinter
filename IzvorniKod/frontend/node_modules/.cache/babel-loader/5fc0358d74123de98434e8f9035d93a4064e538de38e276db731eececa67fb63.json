{"ast":null,"code":"var _jsxFileName = \"/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/MainScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, GlobalStyle } from \"../elements/global\";\nimport { connect } from \"react-redux\";\nimport * as Element from \"../elements/mainscreen\";\nimport Banner from \"./Banner\";\nimport AdminPage from \"./Admin\";\nimport { get_dictionaries, get_modes, select_dictionary } from \"../actions/learningSpecs\";\nimport modes from \"../actions/modes\";\nimport List from \"../components/List\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainScreen = ({\n  isAuthenticated,\n  is_superuser,\n  dictionaries,\n  selected_dictionary,\n  selected_mode,\n  selected_language\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [displayLearning, setDisplayLearning] = useState(true);\n  const [displayLanguages, setDisplayLanguages] = useState(false);\n  const [displayDictionaries, setDisplayDictionaries] = useState(false);\n  const [displayModes, setDisplayModes] = useState(false);\n  const [languages, setLanguages] = useState(null);\n  const [selectedLanguage, setSelectedLanguage] = useState(selected_language);\n  const [selectedDictionary, setSelectedDictionary] = useState(selected_dictionary);\n  const [selectedMode, setSelectedMode] = useState(selected_mode);\n\n  // useEffect(\n  //   function () {\n  //     if (displayDictionaries === true) {\n  //       get_dictionaries();\n  //     }\n  //   },\n  //   [displayDictionaries]\n  // );\n\n  useEffect(\n  // dodan samo da se snađem po kodu, nismo još sigurni hoće li na ovaj način biti implementirano\n  function () {\n    if (displayLanguages === true) {\n      const uniqueLang = dictionaries.map(dict => dict.language).filter((language, index, languages) => languages.indexOf(language) === index);\n      setLanguages(uniqueLang);\n    }\n  }, [displayLanguages, dictionaries]);\n  useEffect(function () {\n    if (selectedLanguage !== null) {\n      setDisplayLanguages(false);\n      setDisplayDictionaries(true);\n    }\n  }, [selectedLanguage]);\n  useEffect(function () {\n    if (selectedDictionary !== null) {\n      setDisplayDictionaries(false);\n      setDisplayModes(true);\n    }\n  }, [selectedDictionary]);\n  useEffect(function () {\n    if (selectedMode !== null) {\n      navigate(\"/learning\"); // napisano samo ovako na prvu, nema još putanje do toga kasnije ću dodati\n    }\n  }, [selectedMode, navigate]);\n  useEffect(function () {\n    get_dictionaries();\n  }, []);\n  function startLearning() {\n    setDisplayLearning(false);\n    const uniqueLang = dictionaries.map(dict => dict.language).filter((language, index, languages) => languages.indexOf(language) === index);\n    setLanguages(uniqueLang);\n    setDisplayLanguages(true);\n  }\n  useEffect(() => {\n    if (!isAuthenticated || isAuthenticated === null) navigate(\"/\");\n  }, [isAuthenticated, navigate]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Banner, {\n        origin: \"MainScreen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Element.TopDiv, {\n        children: is_superuser ? /*#__PURE__*/_jsxDEV(AdminPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), displayLearning && /*#__PURE__*/_jsxDEV(Element.LearningStart, {\n        onClick: startLearning,\n        children: \"Customize learning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), displayLanguages && /*#__PURE__*/_jsxDEV(Element.LanguageSelect, {\n        children: [\"Select language\", /*#__PURE__*/_jsxDEV(List, {\n          elements: languages,\n          type: \"lang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), displayDictionaries && /*#__PURE__*/_jsxDEV(Element.DictionarySelect, {\n        children: [\"Select dictionary\", /*#__PURE__*/_jsxDEV(List, {\n          elements: dictionaries,\n          type: \"dict\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), displayModes && /*#__PURE__*/_jsxDEV(Element.ModeSelect, {\n        children: [\"Select mode\", /*#__PURE__*/_jsxDEV(List, {\n          elements: modes,\n          type: \"mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(MainScreen, \"lAgXalCglDkFGODjez9LQxk33ko=\", false, function () {\n  return [useNavigate];\n});\n_c = MainScreen;\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  is_superuser: state.profile.is_admin,\n  dictionaries: state.learningSpecsReducer.dictionaries,\n  selected_dictionary: state.learningSpecsReducer.selectedDictionary,\n  selected_mode: state.learningSpecsReducer.selectedMode,\n  selected_language: state.learningSpecsReducer.language\n});\nexport default connect(mapStateToProps, {})(MainScreen);\nvar _c;\n$RefreshReg$(_c, \"MainScreen\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Container","GlobalStyle","connect","Element","Banner","AdminPage","get_dictionaries","get_modes","select_dictionary","modes","List","jsxDEV","_jsxDEV","Fragment","_Fragment","MainScreen","isAuthenticated","is_superuser","dictionaries","selected_dictionary","selected_mode","selected_language","_s","navigate","displayLearning","setDisplayLearning","displayLanguages","setDisplayLanguages","displayDictionaries","setDisplayDictionaries","displayModes","setDisplayModes","languages","setLanguages","selectedLanguage","setSelectedLanguage","selectedDictionary","setSelectedDictionary","selectedMode","setSelectedMode","uniqueLang","map","dict","language","filter","index","indexOf","startLearning","children","fileName","_jsxFileName","lineNumber","columnNumber","origin","TopDiv","LearningStart","onClick","LanguageSelect","elements","type","DictionarySelect","ModeSelect","_c","mapStateToProps","state","auth","profile","is_admin","learningSpecsReducer","$RefreshReg$"],"sources":["/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/MainScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, GlobalStyle } from \"../elements/global\";\nimport { connect } from \"react-redux\";\nimport * as Element from \"../elements/mainscreen\";\nimport Banner from \"./Banner\";\nimport AdminPage from \"./Admin\";\nimport {\n  get_dictionaries,\n  get_modes,\n  select_dictionary,\n} from \"../actions/learningSpecs\";\nimport modes from \"../actions/modes\";\nimport List from \"../components/List\";\n\nconst MainScreen = ({\n  isAuthenticated,\n  is_superuser,\n  dictionaries,\n  selected_dictionary,\n  selected_mode,\n  selected_language,\n}) => {\n  const navigate = useNavigate();\n  const [displayLearning, setDisplayLearning] = useState(true);\n  const [displayLanguages, setDisplayLanguages] = useState(false);\n  const [displayDictionaries, setDisplayDictionaries] = useState(false);\n  const [displayModes, setDisplayModes] = useState(false);\n  const [languages, setLanguages] = useState(null);\n  const [selectedLanguage, setSelectedLanguage] = useState(selected_language);\n  const [selectedDictionary, setSelectedDictionary] =\n    useState(selected_dictionary);\n  const [selectedMode, setSelectedMode] = useState(selected_mode);\n\n  // useEffect(\n  //   function () {\n  //     if (displayDictionaries === true) {\n  //       get_dictionaries();\n  //     }\n  //   },\n  //   [displayDictionaries]\n  // );\n\n  useEffect(\n    // dodan samo da se snađem po kodu, nismo još sigurni hoće li na ovaj način biti implementirano\n    function () {\n      if (displayLanguages === true) {\n        const uniqueLang = dictionaries\n          .map((dict) => dict.language)\n          .filter(\n            (language, index, languages) =>\n              languages.indexOf(language) === index\n          );\n        setLanguages(uniqueLang);\n      }\n    },\n    [displayLanguages, dictionaries]\n  );\n\n  useEffect(\n    function () {\n      if (selectedLanguage !== null) {\n        setDisplayLanguages(false);\n        setDisplayDictionaries(true);\n      }\n    },\n    [selectedLanguage]\n  );\n\n  useEffect(\n    function () {\n      if (selectedDictionary !== null) {\n        setDisplayDictionaries(false);\n        setDisplayModes(true);\n      }\n    },\n    [selectedDictionary]\n  );\n\n  useEffect(\n    function () {\n      if (selectedMode !== null) {\n        navigate(\"/learning\"); // napisano samo ovako na prvu, nema još putanje do toga kasnije ću dodati\n      }\n    },\n    [selectedMode, navigate]\n  );\n\n  useEffect(function () {\n    get_dictionaries();\n  }, []);\n\n  function startLearning() {\n    setDisplayLearning(false);\n\n    const uniqueLang = dictionaries\n      .map((dict) => dict.language)\n      .filter(\n        (language, index, languages) => languages.indexOf(language) === index\n      );\n    setLanguages(uniqueLang);\n\n    setDisplayLanguages(true);\n  }\n\n  useEffect(() => {\n    if (!isAuthenticated || isAuthenticated === null) navigate(\"/\");\n  }, [isAuthenticated, navigate]);\n\n  return (\n    <React.Fragment>\n      <GlobalStyle />\n      <Container>\n        <Banner origin=\"MainScreen\"></Banner>\n        <Element.TopDiv>\n          {is_superuser ? <AdminPage></AdminPage> : <></>}\n        </Element.TopDiv>\n        <hr />\n        {displayLearning && (\n          <Element.LearningStart onClick={startLearning}>\n            Customize learning\n          </Element.LearningStart>\n        )}\n        {displayLanguages && (\n          <Element.LanguageSelect>\n            Select language\n            <List elements={languages} type=\"lang\" />\n          </Element.LanguageSelect>\n        )}\n        {displayDictionaries && (\n          <Element.DictionarySelect>\n            Select dictionary\n            <List elements={dictionaries} type=\"dict\" />\n          </Element.DictionarySelect>\n        )}\n        {displayModes && (\n          <Element.ModeSelect>\n            Select mode\n            <List elements={modes} type=\"mode\" />\n          </Element.ModeSelect>\n        )}\n      </Container>\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  is_superuser: state.profile.is_admin,\n  dictionaries: state.learningSpecsReducer.dictionaries,\n  selected_dictionary: state.learningSpecsReducer.selectedDictionary,\n  selected_mode: state.learningSpecsReducer.selectedMode,\n  selected_language: state.learningSpecsReducer.language,\n});\n\nexport default connect(mapStateToProps, {})(MainScreen);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}