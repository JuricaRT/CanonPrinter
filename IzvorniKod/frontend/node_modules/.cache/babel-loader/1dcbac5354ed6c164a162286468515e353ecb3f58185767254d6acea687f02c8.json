{"ast":null,"code":"var _jsxFileName = \"/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/MainScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, GlobalStyle } from \"../elements/global\";\nimport { connect } from \"react-redux\";\nimport * as Element from \"../elements/mainscreen\";\nimport Banner from \"./Banner\";\nimport { get_dictionaries, get_modes, select_dictionary, select_language } from \"../actions/learningSpecs\";\nimport modes from \"../actions/modes\";\nimport List from \"../components/List\";\nimport Admin from \"../reducers/admin\";\nimport ModifyUsers from \"./ModifyUsers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainScreen = ({\n  isAuthenticated,\n  dictionaries,\n  uniqueLang,\n  selected_dictionary,\n  selected_mode,\n  selected_language,\n  get_dictionaries,\n  select_language,\n  select_dictionary\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [displayLearning, setDisplayLearning] = useState(true);\n  const [displayLanguages, setDisplayLanguages] = useState(false);\n  const [displayDictionaries, setDisplayDictionaries] = useState(false);\n  const [displayModes, setDisplayModes] = useState(false);\n  const [languages, setLanguages] = useState(null);\n  const [selectedLanguage, setSelectedLanguage] = useState(null);\n  const [selectedDictionary, setSelectedDictionary] = useState(null);\n  const [selectedMode, setSelectedMode] = useState(null);\n  useEffect(() => {\n    get_dictionaries();\n    if (!isAuthenticated || isAuthenticated === null) {\n      navigate(\"/\");\n    }\n    if (selectedMode !== null) {\n      navigate(\"/learning\"); // napisano samo ovako na prvu, nema još putanje do toga kasnije ću dodati\n    }\n  }, [isAuthenticated, navigate, selectedMode, get_dictionaries]);\n\n  // set values from states\n  useEffect(() => {\n    setSelectedLanguage(selected_language);\n    setSelectedDictionary(selected_dictionary);\n    setSelectedMode(selected_mode);\n  }, [selected_language, selected_dictionary, selected_mode]);\n  useEffect(() => {\n    if (selectedLanguage !== null) {\n      setDisplayLanguages(false);\n      setDisplayDictionaries(true);\n    }\n    if (selectedDictionary !== null) {\n      setDisplayDictionaries(false);\n      setDisplayModes(true);\n    }\n  }, [selectedLanguage, selectedDictionary]);\n  function customizeLearning() {\n    setDisplayLearning(false);\n    setLanguages(uniqueLang);\n    setDisplayLanguages(true);\n  }\n  function dictionaryBack() {\n    setDisplayDictionaries(false);\n    setDisplayLanguages(true);\n    select_language(null);\n  }\n  function modeBack() {\n    setDisplayModes(false);\n    setDisplayDictionaries(true);\n    select_dictionary(null);\n  }\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Banner, {\n        origin: \"MainScreen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), displayLearning && /*#__PURE__*/_jsxDEV(Element.LearningStart, {\n        onClick: customizeLearning,\n        children: \"Customize learning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), displayLanguages && /*#__PURE__*/_jsxDEV(Element.LanguageSelect, {\n        children: [\"Select language\", /*#__PURE__*/_jsxDEV(List, {\n          elements: languages,\n          type: \"lang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), displayDictionaries && /*#__PURE__*/_jsxDEV(Element.DictionarySelect, {\n        children: [\"Select dictionary\", /*#__PURE__*/_jsxDEV(List, {\n          elements: dictionaries[selectedLanguage],\n          type: \"dict\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Element.DictionaryBack, {\n          onClick: dictionaryBack,\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), displayModes && /*#__PURE__*/_jsxDEV(Element.ModeSelect, {\n        children: [\"Select mode\", /*#__PURE__*/_jsxDEV(List, {\n          elements: Object.values(modes),\n          type: \"mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Element.ModeBack, {\n          onClick: modeBack,\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(MainScreen, \"14zEFz6PdVAmasiKn7NW0ofnIjc=\", false, function () {\n  return [useNavigate];\n});\n_c = MainScreen;\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  is_superuser: state.profile.is_admin,\n  dictionaries: state.learningSpecsReducer.dictionaries,\n  uniqueLang: state.learningSpecsReducer.uniqueLang,\n  selected_dictionary: state.learningSpecsReducer.selectedDictionary,\n  selected_mode: state.learningSpecsReducer.selectedMode,\n  selected_language: state.learningSpecsReducer.language\n});\nexport default connect(mapStateToProps, {\n  get_dictionaries,\n  select_dictionary,\n  select_language\n})(MainScreen);\nvar _c;\n$RefreshReg$(_c, \"MainScreen\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Container","GlobalStyle","connect","Element","Banner","get_dictionaries","get_modes","select_dictionary","select_language","modes","List","Admin","ModifyUsers","jsxDEV","_jsxDEV","MainScreen","isAuthenticated","dictionaries","uniqueLang","selected_dictionary","selected_mode","selected_language","_s","navigate","displayLearning","setDisplayLearning","displayLanguages","setDisplayLanguages","displayDictionaries","setDisplayDictionaries","displayModes","setDisplayModes","languages","setLanguages","selectedLanguage","setSelectedLanguage","selectedDictionary","setSelectedDictionary","selectedMode","setSelectedMode","customizeLearning","dictionaryBack","modeBack","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","origin","LearningStart","onClick","LanguageSelect","elements","type","DictionarySelect","DictionaryBack","ModeSelect","Object","values","ModeBack","_c","mapStateToProps","state","auth","is_superuser","profile","is_admin","learningSpecsReducer","language","$RefreshReg$"],"sources":["/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/MainScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, GlobalStyle } from \"../elements/global\";\nimport { connect } from \"react-redux\";\nimport * as Element from \"../elements/mainscreen\";\nimport Banner from \"./Banner\";\n\nimport {\n  get_dictionaries,\n  get_modes,\n  select_dictionary,\n  select_language,\n} from \"../actions/learningSpecs\";\nimport modes from \"../actions/modes\";\nimport List from \"../components/List\";\nimport Admin from \"../reducers/admin\";\nimport ModifyUsers from \"./ModifyUsers\";\n\nconst MainScreen = ({\n  isAuthenticated,\n  dictionaries,\n  uniqueLang,\n  selected_dictionary,\n  selected_mode,\n  selected_language,\n  get_dictionaries,\n  select_language,\n  select_dictionary,\n}) => {\n  const navigate = useNavigate();\n  const [displayLearning, setDisplayLearning] = useState(true);\n  const [displayLanguages, setDisplayLanguages] = useState(false);\n  const [displayDictionaries, setDisplayDictionaries] = useState(false);\n  const [displayModes, setDisplayModes] = useState(false);\n  const [languages, setLanguages] = useState(null);\n\n  const [selectedLanguage, setSelectedLanguage] = useState(null);\n  const [selectedDictionary, setSelectedDictionary] = useState(null);\n  const [selectedMode, setSelectedMode] = useState(null);\n\n  useEffect(() => {\n    get_dictionaries();\n\n    if (!isAuthenticated || isAuthenticated === null) {\n      navigate(\"/\");\n    }\n\n    if (selectedMode !== null) {\n      navigate(\"/learning\"); // napisano samo ovako na prvu, nema još putanje do toga kasnije ću dodati\n    }\n  }, [isAuthenticated, navigate, selectedMode, get_dictionaries]);\n\n  // set values from states\n  useEffect(() => {\n    setSelectedLanguage(selected_language);\n    setSelectedDictionary(selected_dictionary);\n    setSelectedMode(selected_mode);\n  }, [selected_language, selected_dictionary, selected_mode]);\n\n  useEffect(() => {\n    if (selectedLanguage !== null) {\n      setDisplayLanguages(false);\n      setDisplayDictionaries(true);\n    }\n\n    if (selectedDictionary !== null) {\n      setDisplayDictionaries(false);\n      setDisplayModes(true);\n    }\n  }, [selectedLanguage, selectedDictionary]);\n\n  function customizeLearning() {\n    setDisplayLearning(false);\n    setLanguages(uniqueLang);\n    setDisplayLanguages(true);\n  }\n\n  function dictionaryBack() {\n    setDisplayDictionaries(false);\n    setDisplayLanguages(true);\n    select_language(null);\n  }\n\n  function modeBack() {\n    setDisplayModes(false);\n    setDisplayDictionaries(true);\n    select_dictionary(null);\n  }\n\n  return (\n    <React.Fragment>\n      <GlobalStyle />\n      <Container>\n        <Banner origin=\"MainScreen\"></Banner>\n        <hr />\n        {displayLearning && (\n          <Element.LearningStart onClick={customizeLearning}>\n            Customize learning\n          </Element.LearningStart>\n        )}\n        {displayLanguages && (\n          <Element.LanguageSelect>\n            Select language\n            <List elements={languages} type=\"lang\" />\n          </Element.LanguageSelect>\n        )}\n        {displayDictionaries && (\n          <Element.DictionarySelect>\n            Select dictionary\n            <List elements={dictionaries[selectedLanguage]} type=\"dict\" />\n            <Element.DictionaryBack onClick={dictionaryBack}>\n              &larr;\n            </Element.DictionaryBack>\n          </Element.DictionarySelect>\n        )}\n        {displayModes && (\n          <Element.ModeSelect>\n            Select mode\n            <List elements={Object.values(modes)} type=\"mode\" />\n            <Element.ModeBack onClick={modeBack}>&larr;</Element.ModeBack>\n          </Element.ModeSelect>\n        )}\n      </Container>\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  is_superuser: state.profile.is_admin,\n  dictionaries: state.learningSpecsReducer.dictionaries,\n  uniqueLang: state.learningSpecsReducer.uniqueLang,\n  selected_dictionary: state.learningSpecsReducer.selectedDictionary,\n  selected_mode: state.learningSpecsReducer.selectedMode,\n  selected_language: state.learningSpecsReducer.language,\n});\n\nexport default connect(mapStateToProps, {\n  get_dictionaries,\n  select_dictionary,\n  select_language,\n})(MainScreen);\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,EAAEC,WAAW,QAAQ,oBAAoB;AAC3D,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAO,KAAKC,OAAO,MAAM,wBAAwB;AACjD,OAAOC,MAAM,MAAM,UAAU;AAE7B,SACEC,gBAAgB,EAChBC,SAAS,EACTC,iBAAiB,EACjBC,eAAe,QACV,0BAA0B;AACjC,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,UAAU,GAAGA,CAAC;EAClBC,eAAe;EACfC,YAAY;EACZC,UAAU;EACVC,mBAAmB;EACnBC,aAAa;EACbC,iBAAiB;EACjBhB,gBAAgB;EAChBG,eAAe;EACfD;AACF,CAAC,KAAK;EAAAe,EAAA;EACJ,MAAMC,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAC4B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC8B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACgC,YAAY,EAAEC,eAAe,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkC,SAAS,EAAEC,YAAY,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAM,CAACoC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACsC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACdQ,gBAAgB,CAAC,CAAC;IAElB,IAAI,CAACW,eAAe,IAAIA,eAAe,KAAK,IAAI,EAAE;MAChDO,QAAQ,CAAC,GAAG,CAAC;IACf;IAEA,IAAIe,YAAY,KAAK,IAAI,EAAE;MACzBf,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;IACzB;EACF,CAAC,EAAE,CAACP,eAAe,EAAEO,QAAQ,EAAEe,YAAY,EAAEjC,gBAAgB,CAAC,CAAC;;EAE/D;EACAR,SAAS,CAAC,MAAM;IACdsC,mBAAmB,CAACd,iBAAiB,CAAC;IACtCgB,qBAAqB,CAAClB,mBAAmB,CAAC;IAC1CoB,eAAe,CAACnB,aAAa,CAAC;EAChC,CAAC,EAAE,CAACC,iBAAiB,EAAEF,mBAAmB,EAAEC,aAAa,CAAC,CAAC;EAE3DvB,SAAS,CAAC,MAAM;IACd,IAAIqC,gBAAgB,KAAK,IAAI,EAAE;MAC7BP,mBAAmB,CAAC,KAAK,CAAC;MAC1BE,sBAAsB,CAAC,IAAI,CAAC;IAC9B;IAEA,IAAIO,kBAAkB,KAAK,IAAI,EAAE;MAC/BP,sBAAsB,CAAC,KAAK,CAAC;MAC7BE,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC,EAAE,CAACG,gBAAgB,EAAEE,kBAAkB,CAAC,CAAC;EAE1C,SAASI,iBAAiBA,CAAA,EAAG;IAC3Bf,kBAAkB,CAAC,KAAK,CAAC;IACzBQ,YAAY,CAACf,UAAU,CAAC;IACxBS,mBAAmB,CAAC,IAAI,CAAC;EAC3B;EAEA,SAASc,cAAcA,CAAA,EAAG;IACxBZ,sBAAsB,CAAC,KAAK,CAAC;IAC7BF,mBAAmB,CAAC,IAAI,CAAC;IACzBnB,eAAe,CAAC,IAAI,CAAC;EACvB;EAEA,SAASkC,QAAQA,CAAA,EAAG;IAClBX,eAAe,CAAC,KAAK,CAAC;IACtBF,sBAAsB,CAAC,IAAI,CAAC;IAC5BtB,iBAAiB,CAAC,IAAI,CAAC;EACzB;EAEA,oBACEO,OAAA,CAAClB,KAAK,CAAC+C,QAAQ;IAAAC,QAAA,gBACb9B,OAAA,CAACb,WAAW;MAAA4C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACflC,OAAA,CAACd,SAAS;MAAA4C,QAAA,gBACR9B,OAAA,CAACV,MAAM;QAAC6C,MAAM,EAAC;MAAY;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eACrClC,OAAA;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACLxB,eAAe,iBACdV,OAAA,CAACX,OAAO,CAAC+C,aAAa;QAACC,OAAO,EAAEX,iBAAkB;QAAAI,QAAA,EAAC;MAEnD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAuB,CACxB,EACAtB,gBAAgB,iBACfZ,OAAA,CAACX,OAAO,CAACiD,cAAc;QAAAR,QAAA,GAAC,iBAEtB,eAAA9B,OAAA,CAACJ,IAAI;UAAC2C,QAAQ,EAAErB,SAAU;UAACsB,IAAI,EAAC;QAAM;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CACzB,EACApB,mBAAmB,iBAClBd,OAAA,CAACX,OAAO,CAACoD,gBAAgB;QAAAX,QAAA,GAAC,mBAExB,eAAA9B,OAAA,CAACJ,IAAI;UAAC2C,QAAQ,EAAEpC,YAAY,CAACiB,gBAAgB,CAAE;UAACoB,IAAI,EAAC;QAAM;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC9DlC,OAAA,CAACX,OAAO,CAACqD,cAAc;UAACL,OAAO,EAAEV,cAAe;UAAAG,QAAA,EAAC;QAEjD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAwB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAC3B,EACAlB,YAAY,iBACXhB,OAAA,CAACX,OAAO,CAACsD,UAAU;QAAAb,QAAA,GAAC,aAElB,eAAA9B,OAAA,CAACJ,IAAI;UAAC2C,QAAQ,EAAEK,MAAM,CAACC,MAAM,CAAClD,KAAK,CAAE;UAAC6C,IAAI,EAAC;QAAM;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpDlC,OAAA,CAACX,OAAO,CAACyD,QAAQ;UAACT,OAAO,EAAET,QAAS;UAAAE,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CACrB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAErB,CAAC;AAAC1B,EAAA,CA3GIP,UAAU;EAAA,QAWGhB,WAAW;AAAA;AAAA8D,EAAA,GAXxB9C,UAAU;AA6GhB,MAAM+C,eAAe,GAAIC,KAAK,KAAM;EAClC/C,eAAe,EAAE+C,KAAK,CAACC,IAAI,CAAChD,eAAe;EAC3CiD,YAAY,EAAEF,KAAK,CAACG,OAAO,CAACC,QAAQ;EACpClD,YAAY,EAAE8C,KAAK,CAACK,oBAAoB,CAACnD,YAAY;EACrDC,UAAU,EAAE6C,KAAK,CAACK,oBAAoB,CAAClD,UAAU;EACjDC,mBAAmB,EAAE4C,KAAK,CAACK,oBAAoB,CAAChC,kBAAkB;EAClEhB,aAAa,EAAE2C,KAAK,CAACK,oBAAoB,CAAC9B,YAAY;EACtDjB,iBAAiB,EAAE0C,KAAK,CAACK,oBAAoB,CAACC;AAChD,CAAC,CAAC;AAEF,eAAenE,OAAO,CAAC4D,eAAe,EAAE;EACtCzD,gBAAgB;EAChBE,iBAAiB;EACjBC;AACF,CAAC,CAAC,CAACO,UAAU,CAAC;AAAC,IAAA8C,EAAA;AAAAS,YAAA,CAAAT,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}