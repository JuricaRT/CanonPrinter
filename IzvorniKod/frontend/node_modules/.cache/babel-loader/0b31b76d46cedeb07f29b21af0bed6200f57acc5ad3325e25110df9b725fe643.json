{"ast":null,"code":"import Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport baseURL from \"./debug\";\nimport { SELECT_DICTIONARY, SELECT_MODE, SELECT_MODE_FAIL, GET_DICTIONARIES, GET_DICTIONARIES_FAIL, START_LEARNING_FAIL, START_LEARNING, SELECT_LANGUAGE } from \"./types\";\nexport const get_dictionaries = () => async dispatch => {\n  const config = {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const res = await axios.get(`${baseURL}/get_dictionaries`, config);\n    if (res.data.error) {\n      dispatch({\n        type: GET_DICTIONARIES_FAIL\n      });\n    } else {\n      dispatch({\n        type: GET_DICTIONARIES,\n        payload: res.data.dicts\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: GET_DICTIONARIES_FAIL\n    });\n  }\n};\nexport const select_language = language => async dispatch => {\n  dispatch({\n    type: SELECT_LANGUAGE,\n    payload: language\n  });\n};\nexport const select_dictionary = dictionary => async dispatch => {\n  dispatch({\n    type: SELECT_DICTIONARY,\n    payload: dictionary\n  });\n};\nexport const start_learning = (mode, dict, lang) => async dispatch => {\n  const config = {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n    }\n  };\n  const body = JSON.stringify({\n    dict,\n    lang,\n    mode\n  });\n  try {\n    const res = await axios.get(`${baseURL}/start_learning`, body, config);\n    if (res.data.error) {\n      dispatch({\n        type: START_LEARNING_FAIL\n      });\n      dispatch({\n        type: SELECT_MODE_FAIL,\n        payload: mode\n      });\n    } else {\n      dispatch({\n        type: SELECT_MODE,\n        payload: mode\n      });\n      dispatch({\n        type: START_LEARNING,\n        payload: res.data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: START_LEARNING_FAIL\n    });\n    dispatch({\n      type: SELECT_MODE_FAIL,\n      payload: mode\n    });\n  }\n};","map":{"version":3,"names":["Cookies","axios","baseURL","SELECT_DICTIONARY","SELECT_MODE","SELECT_MODE_FAIL","GET_DICTIONARIES","GET_DICTIONARIES_FAIL","START_LEARNING_FAIL","START_LEARNING","SELECT_LANGUAGE","get_dictionaries","dispatch","config","withCredentials","headers","Accept","res","get","data","error","type","payload","dicts","select_language","language","select_dictionary","dictionary","start_learning","mode","dict","lang","body","JSON","stringify"],"sources":["/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/actions/learningSpecs.js"],"sourcesContent":["import Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport baseURL from \"./debug\";\nimport {\n  SELECT_DICTIONARY,\n  SELECT_MODE,\n  SELECT_MODE_FAIL,\n  GET_DICTIONARIES,\n  GET_DICTIONARIES_FAIL,\n  START_LEARNING_FAIL,\n  START_LEARNING,\n  SELECT_LANGUAGE,\n} from \"./types\";\n\nexport const get_dictionaries = () => async (dispatch) => {\n  const config = {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  try {\n    const res = await axios.get(`${baseURL}/get_dictionaries`, config);\n\n    if (res.data.error) {\n      dispatch({ type: GET_DICTIONARIES_FAIL });\n    } else {\n      dispatch({ type: GET_DICTIONARIES, payload: res.data.dicts });\n    }\n  } catch (error) {\n    dispatch({ type: GET_DICTIONARIES_FAIL });\n  }\n};\n\nexport const select_language = (language) => async (dispatch) => {\n  dispatch({ type: SELECT_LANGUAGE, payload: language });\n};\n\nexport const select_dictionary = (dictionary) => async (dispatch) => {\n  dispatch({ type: SELECT_DICTIONARY, payload: dictionary });\n};\n\nexport const start_learning = (mode, dict, lang) => async (dispatch) => {\n  const config = {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n    },\n  };\n\n  const body = JSON.stringify({\n    dict,\n    lang,\n    mode,\n  });\n\n  try {\n    const res = await axios.get(`${baseURL}/start_learning`, body, config);\n\n    if (res.data.error) {\n      dispatch({ type: START_LEARNING_FAIL });\n      dispatch({ type: SELECT_MODE_FAIL, payload: mode });\n    } else {\n      dispatch({ type: SELECT_MODE, payload: mode });\n      dispatch({ type: START_LEARNING, payload: res.data });\n    }\n  } catch (error) {\n    dispatch({ type: START_LEARNING_FAIL });\n    dispatch({ type: SELECT_MODE_FAIL, payload: mode });\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}