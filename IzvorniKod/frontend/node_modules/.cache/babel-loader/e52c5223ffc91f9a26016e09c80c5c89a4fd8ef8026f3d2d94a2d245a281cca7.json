{"ast":null,"code":"var _jsxFileName = \"/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/PassChange.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Container, GlobalStyle } from '../elements/global';\nimport * as Element from '../elements/formpages';\nimport Banner from './Banner';\nimport * as PassChangeMisc from '../elements/passchange';\nimport CSRFToken from '../components/CSRFToken';\nimport { update_password } from '../actions/profile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PassChange = ({\n  isAuthenticated,\n  has_initial_pass,\n  update_password\n}) => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!isAuthenticated || isAuthenticated === null) navigate('/');\n  }, [isAuthenticated, navigate]);\n  useEffect(() => {\n    if (isAuthenticated && !has_initial_pass) navigate('/mainScreen');\n  }, [isAuthenticated, has_initial_pass, navigate]);\n  const [formData, setFormData] = useState({\n    password: '',\n    c_password: ''\n  });\n  const {\n    password,\n    c_password\n  } = formData;\n  const onChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const onSubmit = e => {\n    e.preventDefault();\n    if (password == \"\" || password == null) {\n      alert(\"Password is invalid\");\n      return;\n    }\n    if (password != c_password) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n    update_password(password);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Element.LoginForm, {\n        onSubmit: e => onSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(Banner, {\n          origin: \"PassChange\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Element.HorizontalSeparator, {\n          children: [/*#__PURE__*/_jsxDEV(Element.LeftSideImage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Element.LoginFormDiv, {\n            children: [/*#__PURE__*/_jsxDEV(CSRFToken, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(PassChangeMisc.ConfirmPassLabel, {\n              children: \"Please enter your desired password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Element.StandardDiv, {\n              children: /*#__PURE__*/_jsxDEV(Element.Input, {\n                type: \"password\",\n                name: \"password\",\n                onChange: e => onChange(e),\n                value: password,\n                minLength: \"1\",\n                required: true,\n                placeholder: \"New Password...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Element.PasswordButtonAlignment, {\n                children: /*#__PURE__*/_jsxDEV(Element.StandardDiv, {\n                  children: /*#__PURE__*/_jsxDEV(Element.Input, {\n                    type: \"password\",\n                    name: \"c_password\",\n                    onChange: e => onChange(e),\n                    value: c_password,\n                    minLength: \"1\",\n                    required: true,\n                    placeholder: \"Confirm Password...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Element.FlattenedButton, {\n              children: \"OK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n};\n_s(PassChange, \"HUR+xDytIVFogjKxsvzuW0maln4=\", false, function () {\n  return [useNavigate];\n});\n_c = PassChange;\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  has_initial_pass: state.profile.has_initial_pass\n});\nexport default connect(mapStateToProps, {\n  update_password\n})(PassChange);\nvar _c;\n$RefreshReg$(_c, \"PassChange\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","connect","Container","GlobalStyle","Element","Banner","PassChangeMisc","CSRFToken","update_password","jsxDEV","_jsxDEV","PassChange","isAuthenticated","has_initial_pass","_s","navigate","formData","setFormData","password","c_password","onChange","e","target","name","value","onSubmit","preventDefault","alert","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","LoginForm","origin","HorizontalSeparator","LeftSideImage","LoginFormDiv","ConfirmPassLabel","StandardDiv","Input","type","minLength","required","placeholder","PasswordButtonAlignment","FlattenedButton","_c","mapStateToProps","state","auth","profile","$RefreshReg$"],"sources":["/Users/lovro/Faks/ProgI/CanonPrinter/IzvorniKod/frontend/src/containers/PassChange.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Container, GlobalStyle } from '../elements/global';\nimport * as Element from '../elements/formpages';\nimport Banner from './Banner';\nimport * as PassChangeMisc from '../elements/passchange'\nimport CSRFToken from '../components/CSRFToken';\nimport { update_password } from '../actions/profile';\n\nconst PassChange = ({isAuthenticated, has_initial_pass, update_password}) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!isAuthenticated || isAuthenticated === null)\n      navigate('/');\n  }, [isAuthenticated, navigate]);\n\n  useEffect(() => {\n    if (isAuthenticated && !has_initial_pass)\n      navigate('/mainScreen');\n  }, [isAuthenticated, has_initial_pass, navigate]);\n\n  const [formData, setFormData] = useState({\n    password: '',\n    c_password: ''\n  });\n\n  const {password, c_password} = formData;\n\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (password == \"\" || password == null) {\n      alert(\"Password is invalid\");\n      return; \n    }\n\n    if (password != c_password) {\n      alert(\"Passwords do not match\");\n      return;    \n    }\n\n    update_password(password);\n  }\n\n  return (\n  <React.Fragment>\n  <GlobalStyle />\n    <Container>\n      <Element.LoginForm onSubmit={e => onSubmit(e)}>\n        <Banner origin=\"PassChange\"></Banner>\n        <Element.HorizontalSeparator>\n        <Element.LeftSideImage></Element.LeftSideImage>\n        <Element.LoginFormDiv>\n          <CSRFToken />\n          <PassChangeMisc.ConfirmPassLabel>\n            Please enter your desired password:\n          </PassChangeMisc.ConfirmPassLabel>\n          <Element.StandardDiv>\n            <Element.Input\n              type='password'\n              name='password'\n              onChange={e => onChange(e)}\n              value={password}\n              minLength='1'\n              required    \n              placeholder=\"New Password...\"\n            />\n          </Element.StandardDiv>\n          <div>\n          <Element.PasswordButtonAlignment>\n            <Element.StandardDiv>\n              <Element.Input\n                type='password'\n                name='c_password'\n                onChange={e => onChange(e)}\n                value={c_password}\n                minLength='1'\n                required    \n                placeholder=\"Confirm Password...\"\n              />\n            </Element.StandardDiv>\n            </Element.PasswordButtonAlignment>\n          </div>\n            <Element.FlattenedButton>OK</Element.FlattenedButton>\n        </Element.LoginFormDiv>\n        </Element.HorizontalSeparator>\n      </Element.LoginForm>\n    </Container>\n  </React.Fragment>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  has_initial_pass: state.profile.has_initial_pass\n})\n\nexport default connect(mapStateToProps, { update_password })(PassChange);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}